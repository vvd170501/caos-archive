<html>
 <head>
  <meta charset="utf-8"/>
 </head>
 <body>
  <table border="1">
   <tr>
    <td>
     <b>
      Time limit:
     </b>
    </td>
    <td>
     <tt>
      1 s
     </tt>
    </td>
   </tr>
   <tr>
    <td>
     <b>
      Real time limit:
     </b>
    </td>
    <td>
     <tt>
      5 s
     </tt>
    </td>
   </tr>
   <tr>
    <td>
     <b>
      Memory limit:
     </b>
    </td>
    <td>
     <tt>
      64M
     </tt>
    </td>
   </tr>
  </table>
  <h3>
   Problem sm12-5: unix/filesystem/unix-access-right-2
  </h3>
  <p>
   Студент Тимур из Франции баллотируется на выборах
членов
   <i>
    Могущественной тайной организации
   </i>
   ™
для работы в комитете по содействию предпринимательству.
  </p>
  <img alt="image" src="https://caos.ejudge.ru/ej/client?SID=00000000&amp;prob_id=95&amp;action=194&amp;file=image.jpg"/>
  <p>
   Тимур хочет проверять, что только авторизованные клиенты
имеют доступ к секретным рецептам бургеров.
  </p>
  <p>
   Структура, хранящая информацию о процессе, описана следующим образом:
  </p>
  <pre>struct Task
{
    unsigned uid;
    int gid_count;
    unsigned *gids;
};</pre>
  <p>
   Поле
   <tt>
    uid
   </tt>
   хранит идентификатор процесса. Поле
   <tt>
    gid_count
   </tt>
   хранит
количество групп, которым принадлежит процесс. Массив
   <tt>
    gids
   </tt>
   хранит идентификаторы групп процесса.
  </p>
  <p>
   Реализуйте функцию
   <tt>
    myaccess
   </tt>
   , каждый раз моделирующую поведение системного вызова
   <tt>
    access
   </tt>
   .
  </p>
  <p>
   Для простоты будем предполагать, что пользователь с идентификатором
0 имеет право выполнить любую операцию.
  </p>
  <pre>int myaccess(const struct stat *stb, const struct Task *task, int access);</pre>
  <p>
   Параметр
   <tt>
    stb
   </tt>
   хранит информацию о файле. В структуре заполнены поля
   <tt>
    st_uid
   </tt>
   ,
   <tt>
    st_gid
   </tt>
   и
   <tt>
    st_mode
   </tt>
   . Параметр
   <tt>
    task
   </tt>
   хранит информацию о процессе.
Параметр
   <tt>
    access
   </tt>
   — это желаемые права доступа (три бита).
  </p>
  <p>
   Функция должна вернуть 1, если данный процесс может выполнить данную операцию (или комбинацию операций)
над данным файлом, и 0 в противном случае.
  </p>
  <p>
   Для улучшения структуры функции продумайте ее разбиение на служебные функции. Служебные
функции определяйте со статической областью видимости.
  </p>
  <p>
   В сдаваемом на проверку файле должны присутствовать необходимые заголовочные файлы и определение структуры
   <tt>
    Task
   </tt>
   .
  </p>
 </body>
</html>