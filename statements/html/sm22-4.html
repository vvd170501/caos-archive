<html><head><meta charset="utf-8"/></head>
<body>
<table border="1"><tr><td><b>Time limit:</b></td><td><tt>4 s</tt></td></tr>
<tr><td><b>Real time limit:</b></td><td><tt>4 s</tt></td></tr>
<tr><td><b>Memory limit:</b></td><td><tt>64M</tt></td></tr>
</table>
<h3>Problem sm22-4: unix/pthread/mutex-2</h3>
<p>На стандартном потоке ввода задаются:</p>
<ul>
<li>Число счетов acc_count - положительное целое 32-битное число.</li>
<li>Число нитей thr_count - положительное целое 32-битное число.</li>
<li>Далее для каждой нити задаются 5 чисел, описывающих параметры работы нити:
  <ul>
<li>Число итераций - положительное целое 32-битное число.</li>
<li>Индекс первого счета (в интервале [0; acc_count)).</li>
<li>Сумма для зачисления на первый счет или списания с первого счета (double).</li>
<li>Индекс второго счета (в интервале [0; acc_count), не совпадает с первым индексом).</li>
<li>Сумма для зачисления на второй счет или списания со второго счета (double).</li>
</ul></li>
</ul>
<p>Счета хранятся в типе double. Начальное состояние каждого счета - нулевое.</p>
<p>Главная программа должна создать thr_count нитей, каждая из которых должна
обновлять состояние двух счетов следующим образом.</p>
<p>Каждая нить выполняет предписанное ей число итераций обновления состояния счетов.
На каждой итерации к первому счету прибавляется сумма для зачисления на первый счет,
а ко второму счету - сумма для зачисления на второй счет. Отрицательная сумма
подразумевает списание со счета.</p>
<p>После завершения работы нитей главная программа выводит на стандартный поток
вывода итоговое состояние всех счетов с помощью форматного преобразования %.10g
и завершает работу.</p>
<p>Каждая нить должна блокировать только те счета, с которыми ведется работа.
Обновление и первого, и второго счета должно выполняться в одной критической секции
в каждой итерации цикла.</p>
<p>Не используйте глобальные переменные.</p>
<h3>Examples</h3><h4>Input</h4>
<pre>2
2
1000000 0 2 1 -1
1000000 0 -1 1 3</pre>
<h4>Output</h4>
<pre>1000000
2000000</pre>
</body></html>