<html>
 <head>
  <meta charset="utf-8"/>
 </head>
 <body>
  <table border="1">
   <tr>
    <td>
     <b>
      Time limit:
     </b>
    </td>
    <td>
     <tt>
      1 s
     </tt>
    </td>
   </tr>
   <tr>
    <td>
     <b>
      Real time limit:
     </b>
    </td>
    <td>
     <tt>
      5 s
     </tt>
    </td>
   </tr>
   <tr>
    <td>
     <b>
      Memory limit:
     </b>
    </td>
    <td>
     <tt>
      64M
     </tt>
    </td>
   </tr>
  </table>
  <h3>
   Problem sm16-3: unix/processes/cmdline-7
  </h3>
  <p>
   Программе в аргументах командной строки передаются три команды для выполнения.
Программа должна запустить на выполнение процессы,
чтобы они выполнялись в конфигурации, соответствующей команде shell:
  </p>
  <pre>{ cmd1 || cmd2 } &amp;&amp; cmd3</pre>
  <p>
   Родительский процесс должен дождаться завершения всех созданных им процессов
и сам завершить выполнение с кодом возврата 0 или 1 в зависимости
от успешности выполнения процессов.
  </p>
  <p>
   Команды cmd1, cmd2, cmd3 можно запускать на выполнение с помощью execlp.
  </p>
  <p>
   Запись
   <tt>
    a || b
   </tt>
   означает то же самое, что
   <tt>
    !a?b:true
   </tt>
   .
Запись
   <tt>
    a &amp;&amp; b
   </tt>
   означает то же самое, что
   <tt>
    a?b:false
   </tt>
   .
Скобки
   <tt>
    {
   </tt>
   и
   <tt>
    }
   </tt>
   используются для группировки.
  </p>
  <p>
   Для шелла процесс считается завершившимся успешно, если
процесс завершился с помощью системного вызова exit (макрос
WIFEXITED возвращает истинное значение), и код завершения процесса
(макрос WEXITSTATUS) равен 0. В других случаях процесс считается
завершившимся неуспешно.
  </p>
  <p>
   Соответственно, ваша программа должна завершиться с кодом 0 в случае
успешного выполнения заданной группы процессов и с кодом 1 в случае
неуспешного их выполнения.
  </p>
  <p>
   Организуйте вашу программу таким образом, чтобы избежать
дублирование кода. В частности, запуск процесса и проверка
статуса его завершения может быть вынесена в функцию.
  </p>
  <p>
   <b>
    Примечания по тестированию вашей программы:
   </b>
   .
Тестирование завершается с вердиктом 'Synchronization error',
если процесс-отец (то есть ваша программа, запускаемая на тестирование)
заканчивает работу раньше какого-либо из своих потомков.
  </p>
 </body>
</html>