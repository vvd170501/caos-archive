<html>
 <head>
  <meta charset="utf-8"/>
 </head>
 <body>
  <table border="1">
   <tr>
    <td>
     <b>
      Time limit:
     </b>
    </td>
    <td>
     <tt>
      1 s
     </tt>
    </td>
   </tr>
   <tr>
    <td>
     <b>
      Real time limit:
     </b>
    </td>
    <td>
     <tt>
      5 s
     </tt>
    </td>
   </tr>
   <tr>
    <td>
     <b>
      Memory limit:
     </b>
    </td>
    <td>
     <tt>
      64M
     </tt>
    </td>
   </tr>
  </table>
  <h3>
   Problem sm16-2: unix/processes/mysystem-1
  </h3>
  <p>
   Напишите функцию:
  </p>
  <pre>
int mysys(const char *str);
</pre>
  <p>
   Функция должна работать аналогично функции
   <tt>
    system
   </tt>
   , то есть
создавать процесс, запускать на выполнение строку
   <tt>
    str
   </tt>
   и дожидаться результата.
  </p>
  <p>
   Строка
   <tt>
    str
   </tt>
   может содержать несколько аргументов, разделенных пробелами.
  </p>
  <p>
   Функция
   <tt>
    mysys
   </tt>
   должна возвращать -1 в случае, если новый процесс не может
быть создан. Если выполнение
   <tt>
    str
   </tt>
   завершилось с кодом завершения 0-127, функция
должна возвращать это значение. Если выполнение
   <tt>
    str
   </tt>
   завершилось из-за
сигнала
   <tt>
    K
   </tt>
   , то функция должна возвращать значение 128 + K.
  </p>
  <p>
   Если интерпретатор /bin/sh не может быть запущен, функция должна завершаться
со значением 127.
  </p>
  <p>
   Для интерпретации строки
   <tt>
    str
   </tt>
   должен использовать стандартный шелл /bin/sh.
(
   <tt>
    sh -c STR
   </tt>
   ).
  </p>
  <p>
   Сама функция
   <tt>
    mysys
   </tt>
   не должна ничего выводить ни на стандартный поток ошибок,
ни на стандартный поток вывода.
  </p>
  <p>
   Функция mysys должна корректно работать независимо от использования основным процессом других функций создания процессов и функций ввода-вывода.
  </p>
 </body>
</html>