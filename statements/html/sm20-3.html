<html><head><meta charset="utf-8"/></head>
<body>
<table border="1"><tr><td><b>Time limit:</b></td><td><tt>1 s</tt></td></tr>
<tr><td><b>Real time limit:</b></td><td><tt>2 s</tt></td></tr>
<tr><td><b>Memory limit:</b></td><td><tt>64M</tt></td></tr>
</table>
<h3>Problem sm20-3: unix/mmap/ping-pong-h</h3>
<p>В аргументах командной строки задается целое 32-битное неотрицательное число N,
число K (2 ≤ K ≤ 10) - основание системы счисления,      
и непустая строка S, представляющая собой запись некоторого неотрицательного числа
в K-ичной системе счисления, возможно с ведущими нулями, длиной не более 4095 символов,
записанное "наоборот", то есть младшая цифра числа находится в начале строки, а старшая - в конце.</p>
<p>Процесс-родитель должен создать два процесса, которые поочередно прибавляют 1 к числу S.
Каждый процесс ждет своей очереди, затем печатает свой номер (1 или 2) и текущее значение строки S,
затем увеличивает S на 1, затем передает очередь хода другому процессу. Элементы вывода должны размещаться
на одной строке, разделяться пробелом, а в конце должен выводиться символ \n.
Первым выполняется первый процесс.</p>
<p>Число N определяет количество итераций. То есть, если N == 0, никаких итераций не происходит,
N == 1 - первый процесс работает один раз, N == 2 - работает сначала первый процесс, затем второй и т. д.</p>
<p>Родитель дожидается завершения процессов, выводит на стандартный поток вывода строку Done и сам завершает
работу с кодом 0.</p>
<p>Для передачи данных используйте разделяемую память, созданную с помощью mmap.
Для передачи очереди хода используйте механизм eventfd.
Учитывайте особенности буферизации потоков вывода.</p>
<p>Гарантируется, что в процессе вычислений длина строки S не превысит 4095 символов.</p>
<p>Например, если программа вызвана с аргументами командной строки</p>
<pre>./solution 10 8 77777</pre>
<p>На стандатный поток вывода должно быть напечатано</p>
<pre>1 77777
2 000001
1 100001
2 200001
1 300001
2 400001
1 500001
2 600001
1 700001
2 010001
Done</pre>
</body></html>