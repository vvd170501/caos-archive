<html><head><meta charset="utf-8"/></head>
<body>
<table border="1"><tr><td><b>Time limit:</b></td><td><tt>2 s</tt></td></tr>
<tr><td><b>Real time limit:</b></td><td><tt>3 s</tt></td></tr>
<tr><td><b>Memory limit:</b></td><td><tt>64M</tt></td></tr>
</table>
<h3>Problem sm22-2: unix/pthread/generate-primes-1</h3>
<p>На стандартном потоке ввода задается беззнаковое 64-битное целое число base
и 32-битное положительное целое число count.</p>
<p>Главная программа создает нить, которая проверяет на простоту числа
последовательно с шагом 1, начиная с base. Нить работает неограниченно.
Поведение нити при достижении максимального представимого значения не определено.
Когда нить обнаруживает очередное простое число, оно сообщается
главной нити.</p>
<p>Главная нить ждет от созданной нити очередного простого числа.
При его получении оно выводится на стандартный поток вывода.
После вывода count простых чисел главная программа завершает
свою работу, таким образом завершая процесс.</p>
<p>Допускается ситуация, когда главная программа пропустит
какие-то из простых чисел, сообщенные ей другой нитью.
Таким образом, на стандартный поток вывода
должны быть выведены count простых чисел в порядке
возрастания, но необязательно последовательных.</p>
<p>Используйте условные переменные (condvar).
В программе не должно быть data race.
Критическая секция должна иметь минимальный размер,
то есть вывод простого числа не должен
в ней находиться.</p>
<p>Для проверки на простоту может использоваться последовательная
проверка всех нечетных делителей до корня из проверяемого числа.</p>
<p>Вывод программы может отличаться от приведенного ниже в зависимости
от производительности процессора.</p>
<h3>Examples</h3><h4>Input</h4>
<pre>1 10</pre>
<h4>Output</h4>
<pre>6703
6709
6719
6733
6737
6761
6763
6779
6781
6791</pre>
</body></html>